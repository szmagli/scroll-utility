!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ScrollUtility",[],e):"object"==typeof exports?exports.ScrollUtility=e():t.ScrollUtility=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easingFromFunction=function(t){return"string"==typeof t?e.Easings[t]:t},e.Easings={linear:function(t,e,n,i){return n*t/i+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i){var o=1.70158,r=0,s=n;if(0==t)return e;if(1==(t/=i))return e+n;if(r||(r=.3*i),s<Math.abs(n)){s=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/r)+e},easeOutElastic:function(t,e,n,i){var o=1.70158,r=0,s=n;if(0==t)return e;if(1==(t/=i))return e+n;if(r||(r=.3*i),s<Math.abs(n)){s=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/r)+n+e},easeInOutElastic:function(t,e,n,i){var o=1.70158,r=0,s=n;if(0==t)return e;if(2==(t/=i/2))return e+n;if(r||(r=i*(.3*1.5)),s<Math.abs(n)){s=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/r)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/r)*.5+n+e},easeInBack:function(t,e,n,i,o){return null==o&&(o=1.70158),n*(t/=i)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,n,i,o){return null==o&&(o=1.70158),n*((t=t/i-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,n,i,o){return null==o&&(o=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},easeInBounce:function(t,n,i,o){return i-e.Easings.easeOutBounce(o-t,0,i,o)+n},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,n,i,o){return t<o/2?.5*e.Easings.easeInBounce(2*t,0,i,o)+n:.5*e.Easings.easeOutBounce(2*t-o,0,i,o)+.5*i+n}}},function(t,e,n){"use strict";const i=n(2);t.exports=i.Scroll},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(3),o=n(4),r=n(0),s=t=>"number"==typeof t?t:t();function l(t,e){return Math.max(Math.min(t,e),0)}class u{constructor(t={}){this._onscroll=(()=>this._onScroll()),this._scrollAnimations=[],this._container=window,this.container=t.container||window,this._horizontal=!!t.horizontal,this.duration=void 0===t.duration?1e3:t.duration,this.onScroll=void 0===t.onScroll?null:t.onScroll,this.onStop=void 0===t.onStop?null:t.onStop,this.easing=void 0===t.easing?"easeInOutQuad":t.easing,this.force=!!t.force,this._to=this.scrollPosition,this._virtualPosition=this.scrollPosition}get container(){return this._container}set container(t){const e=i.getElementFromQuery(t);this._container.removeEventListener("scroll",this._onscroll),this._container=e,this._container.addEventListener("scroll",this._onscroll)}get size(){return i.Misc.getSize(this._container,this._horizontal)}get scrollSize(){return i.Misc.getScrollSize(this._container,this._horizontal)-this.size}get scrollPosition(){return i.Misc.getScrollPosition(this._container,this._horizontal)}relativePosition(t){const e=i.getElementFromQuery(t);return e===this._container?this.scrollPosition/this.scrollSize:i.Misc.getRelativeElementPosition(this._container,e,this._horizontal)}distToElement(t,e=0){return i.Misc.getDistToCenterElement(this._container,i.getElementFromQuery(t),this._horizontal,e)}elementSize(t,e=1){return i.Misc.getSize(i.getElementFromQuery(t),this._horizontal)*e}stop(){this.onStop&&this.onStop(),this._scrollAnimations=[],this._beforeScroll()}scrollTo(...t){this._beforeScroll();const e="number"==typeof t[0]?null:t[0],n="number"==typeof t[0]?t[0]:t[1],i=this._getOptions("number"==typeof t[0]?t[1]:t[2]);return null===e?this._scrollToValue(l(n,this.scrollSize),i):this._scrollToElement(e,n,i),this}offset(...t){this._beforeScroll();const e="number"==typeof t[0]?null:t[0],n="number"==typeof t[0]?t[0]:t[1],i=this._getOptions("number"==typeof t[0]?t[1]:t[2]);return null===e?this._offsetValue(n,i):this._offsetElement(e,n,i),this}_beforeScroll(){if(!this._scrollAnimations.length){const t=this.scrollPosition;Math.round(this._virtualPosition-t)&&(this._virtualPosition=t),this._to=this._virtualPosition}}_createScrollAnimation(t,e,n){this._scrollAnimations.push(new o.ScrollAnimation(t,e,n)),1===this._scrollAnimations.length&&this._update()}_onScroll(){const t=Math.round(this.scrollPosition)-Math.round(l(this._virtualPosition,this.scrollSize)),e=!!t;if(e){this._virtualPosition=Math.round(this.scrollPosition);const e=this._to;this._to=(()=>s(e)+t)}this.onScroll&&this.onScroll(e)}_update(){const t=this.scrollPosition;this._scrollAnimations=this._scrollAnimations.filter(t=>(this._virtualPosition=(t.options.force?t.from:this._virtualPosition-t.distance)+t.updateDistance(),!t.isPastAnimation()));const e=Math.round(this._virtualPosition)-t;e&&i.Misc.scrollBy(this._container,this._horizontal,e),this._scrollAnimations.length>0?requestAnimationFrame(()=>this._update()):this.stop()}_getOptions(t={}){const e=t.easing||this.easing||"easeInOutQuad";return{easing:"string"==typeof e?r.Easings[e]:e,duration:void 0===t.duration?this.duration:t.duration,force:void 0===t.force?this.force:t.force}}_offsetElement(t,e=1,n){const i=this.elementSize(t,e);this._offsetValue(i,n)}_offsetValue(t,e){const n=e.force?this.scrollPosition:s(this._to),i=()=>l(s(t)+n,this.scrollSize);this._to=e.force?i:s(i),this._createScrollAnimation(n,this._to,e)}_scrollToValue(t,e){const n=e.force?this.scrollPosition:s(this._to),i=()=>s(t);this._to=e.force?i:s(i),this._createScrollAnimation(n,this._to,e)}_scrollToElement(t,e=0,n){const o=i.getElementFromQuery(t),r=o===this._container?()=>this.scrollSize*e:()=>this.distToElement(o,e)+this.scrollPosition;this._scrollToValue(r,n)}}u.global=new u,e.Scroll=u},function(t,e,n){"use strict";function i(){return document.body}function o(){return document.documentElement||{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0}}Object.defineProperty(e,"__esModule",{value:!0});const r=(t=!1)=>t?o().clientWidth||i().clientWidth||window.innerWidth:o().clientHeight||i().clientHeight||window.innerHeight;function s(t){return t===window||t===o()}function l(t,e){return(n,i=!1)=>s(n)?t(i):e(n,i)}e.getElementFromQuery=function(t){if(!t)throw new Error(`elementOrQuery should not be a ${typeof t}`);const e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error("no element matched querySelector");return e===document.documentElement?window:e},function(t){t.getSize=l(r,(t,e)=>e?t.clientWidth:t.clientHeight),t.getSizeWithBorders=l(r,(t,e)=>e?t.offsetWidth:t.offsetHeight),t.getScrollPosition=l(t=>t?window.pageXOffset:window.pageYOffset,(t,e)=>e?t.scrollLeft:t.scrollTop),t.getScrollSize=l(t=>((t=!1)=>t?Math.max(i().scrollWidth,i().offsetWidth,o().clientWidth,o().scrollWidth,o().offsetWidth):Math.max(i().scrollHeight,i().offsetHeight,o().clientHeight,o().scrollHeight,o().offsetHeight))(t),(t,e)=>e?t.scrollWidth:t.scrollHeight);const e=l(()=>0,(t,e)=>parseInt(getComputedStyle(t,null).getPropertyValue(e?"border-left-width":"border-top-width"),10)||0);function n(n,i,o,r){return n(t.getOffset(o,r)-t.getOffset(i,r)-e(i,r),t.getSize(i,r)-t.getSizeWithBorders(o,r))}t.getOffset=l(()=>0,(t,e)=>e?t.getBoundingClientRect().left:t.getBoundingClientRect().top),t.scrollTo=function(t,e,n){!function(t,e,n){s(t)?e():n(t)}(t,()=>window.scroll(e,n),t=>{t.scrollLeft=e,t.scrollTop=n})},t.scrollBy=function(t,e,n){t.scrollBy(e?n:0,e?0:n)},t.scroll=function(e,n,i=!1){t.scrollTo(e,i?n:t.getScrollPosition(e,!i),i?t.getScrollPosition(e,!i):n)},t.getRelativeElementPosition=function(t,e,i=!1){return n((t,e)=>t/e,t,e,i)},t.getDistToCenterElement=function(t,e,i=!1,o=0){return n((t,e)=>t-e*o,t,e,i)}}(e.Misc||(e.Misc={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0);function o(t){return"number"==typeof t?t:t()}e.ScrollAnimation=class{constructor(t,e,n){this._from=t,this._to=e,this.options=n,this.distance=0,this.initialTime=performance.now()}get from(){return o(this._from)}get to(){return o(this._to)}get value(){return this.to-this.from}updateDistance(){return this.distance=this.isPastAnimation()?this.value:i.easingFromFunction(this.options.easing)(this.currentDuration,0,this.value,this.options.duration),this.distance}isPastAnimation(){return this.currentDuration>=this.options.duration}get currentDuration(){return performance.now()-this.initialTime}}}])});